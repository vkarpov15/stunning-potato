
<!DOCTYPE html>
<html>
  <head>
    <title>This Week on npm v20190118: ajv@6.7.0 - JSReport</title>

    <link rel="stylesheet" href="/website/style.css">
    <link rel="stylesheet" href="/website/github.css">
    <link href="https://fonts.googleapis.com/css?family=Play|Roboto" rel="stylesheet">

    <style>
      p {
        line-height: 1.5em;
      }

      pre {
        background-color: #f5f5f5;
        border: 1px solid #ccc;
        border-radius: 4px;
        padding: 5px;
      }

      hr {
        margin-top: 1em;
        margin-bottom: 1em;
      }

      a {
        color: #00386c;
      }

      .post {
        margin-bottom: 1em;
      }

      .post .post-image img {
        width: 200px;
        float: left;
      }

      .post h2 {
        margin-top: 0px;
      }

      .post .post-description {
        float: left;
        width: 765px;
        margin-left: 35px;
      }

      .outlined {
        border: 1px solid #e3e3e3;
        padding: 5px;
      }
    </style>
  </head>

  <body>
    <div id="container">
      <div class="header">
        <div class="brand">
          <img class="logo" src="/images/logo2.svg">
          <div class="brand-name">
            <a href="/">
              js.report
            </a>
          </div>
          <div style="clear: both"></div>
        </div>
        <div class="nav-right" id="nav-container">
          <!-- Populated by nav.jsx -->
        </div>
      </div>

      <div id="content">
        
  
    <h1>This Week on npm v20190118: ajv@6.7.0</h1>
    <p>Here are the most popular packages that published new releases to npm this week. Packages are ranked by downloads in December 2018, and versions are broken down by major, minor, and patch releases.</p>
<h3 id="major">Major</h3>
<p>1) <strong><a href="https://npmjs.com/package/globby">globby</a>@9.0.0</strong>: Extends <code>glob</code> with support for multiple patterns and exposes a Promise API</p>
<p>2) <strong><a href="https://npmjs.com/package/path-to-regexp">path-to-regexp</a>@3.0.0</strong>: Express style path to RegExp utility</p>
<p>3) <strong><a href="https://npmjs.com/package/loader-runner">loader-runner</a>@3.0.0</strong>: Runs (webpack) loaders</p>
<p>4) <strong><a href="https://npmjs.com/package/filesize">filesize</a>@4.0.0</strong>: JavaScript library to generate a human readable String describing the file size</p>
<p>5) <strong><a href="https://npmjs.com/package/google-auth-library">google-auth-library</a>@3.0.0</strong>: Google APIs Authentication Client Library for Node.js</p>
<p>6) <strong><a href="https://npmjs.com/package/minimist-options">minimist-options</a>@4.0.0</strong>: Pretty options for minimist</p>
<p>7) <strong><a href="https://npmjs.com/package/@types/react-redux">@types/react-redux</a>@7.0.0</strong>: TypeScript definitions for react-redux</p>
<p>8) <strong><a href="https://npmjs.com/package/@firebase/firestore">@firebase/firestore</a>@1.0.0</strong>: This is the <a href="https://firebase.google.com/docs/firestore/">Cloud Firestore</a> component of the <a href="https://www.npmjs.com/package/firebase">Firebase JS SDK</a>.</p>
<p>9) <strong><a href="https://npmjs.com/package/@firebase/firestore-types">@firebase/firestore-types</a>@1.0.0</strong>: @firebase/firestore Types</p>
<p>10) <strong><a href="https://npmjs.com/package/package-hash">package-hash</a>@3.0.0</strong>: Generates a hash for an installed npm package, useful for salting caches</p>
<h3 id="minor">Minor</h3>
<p>1) <strong><a href="https://npmjs.com/package/supports-color">supports-color</a>@6.1.0</strong>: Detect whether a terminal supports color</p>
<p>2) <strong><a href="https://npmjs.com/package/ajv">ajv</a>@6.7.0</strong>: Another JSON Schema Validator</p>
<p>3) <strong><a href="https://npmjs.com/package/browserslist">browserslist</a>@4.4.0</strong>: Share target browsers between different front-end tools, like Autoprefixer, Stylelint and babel-env-preset</p>
<p>4) <strong><a href="https://npmjs.com/package/table">table</a>@5.2.0</strong>: Formats data into a string table.</p>
<p>5) <strong><a href="https://npmjs.com/package/got">got</a>@9.6.0</strong>: Simplified HTTP requests</p>
<p>6) <strong><a href="https://npmjs.com/package/node-libs-browser">node-libs-browser</a>@2.2.0</strong>: The node core libs for in browser usage.</p>
<p>7) <strong><a href="https://npmjs.com/package/aws-sdk">aws-sdk</a>@2.390.0</strong>: AWS SDK for JavaScript</p>
<p>8) <strong><a href="https://npmjs.com/package/validator">validator</a>@10.11.0</strong>: String validation and sanitization</p>
<p>9) <strong><a href="https://npmjs.com/package/npm">npm</a>@6.6.0</strong>: a package manager for JavaScript</p>
<p>10) <strong><a href="https://npmjs.com/package/@material-ui/core">@material-ui/core</a>@3.9.0</strong>: React components that implement Google&#39;s Material Design.</p>
<h3 id="patch">Patch</h3>
<p>1) <strong><a href="https://npmjs.com/package/postcss">postcss</a>@7.0.13</strong>: Tool for transforming styles with JS plugins</p>
<p>2) <strong><a href="https://npmjs.com/package/source-map-support">source-map-support</a>@0.5.10</strong>: Fixes stack traces for files with source maps</p>
<p>3) <strong><a href="https://npmjs.com/package/fsevents">fsevents</a>@1.2.6</strong>: Native Access to Mac OS-X FSEvents</p>
<p>4) <strong><a href="https://npmjs.com/package/electron-to-chromium">electron-to-chromium</a>@1.3.103</strong>: Provides a list of electron-to-chromium version mappings</p>
<p>5) <strong><a href="https://npmjs.com/package/autoprefixer">autoprefixer</a>@9.4.5</strong>: Parse CSS and add vendor prefixes to CSS rules using values from the Can I Use website</p>
<p>6) <strong><a href="https://npmjs.com/package/caniuse-lite">caniuse-lite</a>@1.0.30000929</strong>: A smaller version of caniuse-db, with only the essentials!</p>
<p>7) <strong><a href="https://npmjs.com/package/to-regex-range">to-regex-range</a>@4.0.3</strong>: Pass two numbers, get a regex-compatible source string for matching ranges. Validated against more than 2.78 million test assertions.</p>
<p>8) <strong><a href="https://npmjs.com/package/@webassemblyjs/ast">@webassemblyjs/ast</a>@1.8.1</strong>: AST utils for webassemblyjs</p>
<p>9) <strong><a href="https://npmjs.com/package/@webassemblyjs/helper-wasm-bytecode">@webassemblyjs/helper-wasm-bytecode</a>@1.8.1</strong>: WASM&#39;s Bytecode constants</p>
<p>10) <strong><a href="https://npmjs.com/package/@webassemblyjs/wast-parser">@webassemblyjs/wast-parser</a>@1.8.1</strong>: WebAssembly text format parser</p>
<h2 id="ajv-6-7-0"><code>ajv@6.7.0</code></h2>
<p><a href="https://www.npmjs.com/package/ajv">ajv</a> is by far the most downloaded schema validation module on npm, with <a href="https://js.report/top">65 million downloads in December 2018</a>. They keep a minimal changelog in <a href="https://github.com/epoberezkin/ajv/releases">their GitHub releases page</a>. Unfortunately, the <a href="https://github.com/epoberezkin/ajv/compare/v6.6.2...v6.7.0">full diff between <code>v6.7.0</code> and <code>v6.6.2</code></a> isn&#39;t particularly readable either.</p>
<p>The primary new feature is <a href="https://github.com/epoberezkin/ajv#assigning-defaults">a new option for <code>useDefaults</code></a>. Ajv can set default values if you turn on a top-level option to the <code>Ajv()</code> constructor:</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> Ajv = <span class="hljs-built_in">require</span>(<span class="hljs-string">'ajv'</span>);

<span class="hljs-comment">// Need to actually turn on defaults</span>
<span class="hljs-keyword">const</span> ajv = <span class="hljs-keyword">new</span> Ajv({ <span class="hljs-attr">useDefaults</span>: <span class="hljs-literal">true</span> });

<span class="hljs-keyword">const</span> validate = ajv.compile({
  <span class="hljs-attr">type</span>: <span class="hljs-string">'object'</span>,
  <span class="hljs-attr">properties</span>: {
    <span class="hljs-attr">foo</span>: { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">default</span>: <span class="hljs-string">'bar'</span> }
  }
});

<span class="hljs-keyword">let</span> data = {};  
validate(data);
<span class="hljs-built_in">console</span>.log(data); <span class="hljs-comment">// { foo: 'bar' }</span></code></pre>
<p>Unfortunately, defaults don&#39;t get set on empty strings by default.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">let</span> data = { <span class="hljs-attr">foo</span>: <span class="hljs-string">''</span> };
validate(data);
<span class="hljs-built_in">console</span>.log(data); <span class="hljs-comment">// { foo: '' }</span></code></pre>
<p>With <code>ajv@6.7.0</code>, you can set <code>{ useDefaults: &#39;empty&#39; }</code> to opt in to setting defaults on empty strings.</p>
<pre><code class="language-javascript"><span class="hljs-comment">// New in 6.7.0</span>
<span class="hljs-keyword">const</span> ajv = <span class="hljs-keyword">new</span> Ajv({ <span class="hljs-attr">useDefaults</span>: <span class="hljs-string">'empty'</span> });

<span class="hljs-keyword">const</span> validate = ajv.compile({
  <span class="hljs-attr">type</span>: <span class="hljs-string">'object'</span>,
  <span class="hljs-attr">properties</span>: {
    <span class="hljs-attr">foo</span>: { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">default</span>: <span class="hljs-string">'bar'</span> }
  }
});

<span class="hljs-keyword">let</span> data = { <span class="hljs-attr">foo</span>: <span class="hljs-string">''</span> };
validate(data);
<span class="hljs-built_in">console</span>.log(data); <span class="hljs-comment">// { foo: 'bar' }</span></code></pre>
<h2 id="moving-on">Moving On</h2>
<p>There were 72,890 new releases between December 21 and December 28. How many of those affect you? Check out <a href="https://js.report/slack">JSReport for Slack</a> and keep up to date with the JavaScript libraries you depend on.</p>

  
  <hr>
  <div id="disqus_thread"></div>
  <script>

  /**
  *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
  *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
  /*
  var disqus_config = function () {
  this.page.url = window.location.pathname;  // Replace PAGE_URL with your page's canonical URL variable
  this.page.identifier = 'this-week-on-npm-20190118'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
  };
  */
  (function() { // DON'T EDIT BELOW THIS LINE
  var d = document, s = d.createElement('script');
  s.src = 'https://jsreport-1.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

      </div>
    </div>

    <script src="/website/nav.js"></script>
  </body>
</html>
